<html lang="en">
<head>
  <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
  <script>
    window.OneSignalDeferred = window.OneSignalDeferred || [];
    OneSignalDeferred.push(async function(OneSignal) {
      await OneSignal.init({
        appId: "db5ff4b3-1170-45f0-8b54-2afc9e626f44",
        notifyButton: { enable: true },
      });
    });
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Future Search</title>
  <meta name="description" content="Future Search ‚Äì modern√≠ vyhled√°vaƒç s podporou webu a obr√°zk≈Ø.">
  <link rel="canonical" href="https://futuresearch.netlify.app/">
  <link rel="icon" href="favicon.png">
  <style>
    body { font-family:'Roboto',sans-serif; margin:0; padding:0; height:100vh; transition: background 0.3s ease; cursor:none; }
    body.dark-theme { background:#000; }
    body.light-theme { background:url('https://cdn.pixabay.com/photo/2020/01/21/20/30/earth-4780749_960_720.jpg') no-repeat center center fixed; background-size:cover; }
    .theme-switch { position:fixed; top:15px; right:15px; padding:10px; font-size:22px; background:#00e0ff; border-radius:50%; border:none; cursor:pointer; color:#121212; z-index:10000; display:flex; justify-content:center; align-items:center; }
    .search-container { display:flex; justify-content:center; align-items:center; gap:10px; margin:0 auto 30px auto; width:fit-content; }
    #resultsContainer { padding:0 20px; margin-top:20px; max-height:70vh; overflow-y:auto; color:#fff; transition: padding 0.3s ease, margin-top 0.3s ease, background 0.3s ease; background:transparent; }
    #resultsContainer.expanded { padding:20px; margin-top:20px; background:rgba(0,0,0,0.5); }
    .cursor { position:fixed; width:20px; height:20px; background:rgba(0,224,255,0.8); border-radius:50%; pointer-events:none; transform:translate(-50%,-50%); box-shadow:0 0 15px rgba(0,224,255,0.8), 0 0 30px rgba(0,224,255,0.5); z-index:9999; }
    .cursor-trail { position:fixed; width:10px; height:10px; background:rgba(0,224,255,0.4); border-radius:50%; pointer-events:none; z-index:9998; animation:fade 0.6s ease-out forwards; }
    @keyframes fade { 0%{opacity:1;transform:scale(1);} 100%{opacity:0;transform:scale(2);} }
    @media (max-width:600px){
      body{cursor:auto;}
      .search-container{flex-direction:column;gap:15px;width:90%;margin:0 auto 30px auto;}
      .cursor,.cursor-trail{display:none;}
    }
  </style>
</head>
<body class="dark-theme">
  <div style="text-align:center;">
    <h1 onclick="window.location.href='https://futuresearch.netlify.app'" 
        style="color:lightblue;text-shadow:0 0 10px #00e0ff;cursor:pointer;">Future Search</h1>
  </div>

  <button class="theme-switch" id="themeToggleBtn">üåô</button>

  <!-- Search Box -->
  <div class="search-container">
    <script async src="https://cse.google.com/cse.js?cx=12d541be710094451"></script>
    <div class="gcse-searchbox" id="cseWidget"></div>
  </div>

  <!-- Results container -->
  <div id="resultsContainer" class="expanded">
    <div class="gcse-searchresults-only" id="cseResults"></div>
  </div>

  <div class="cursor" id="cursor"></div>

  <script>
    // Cursor animation
    document.addEventListener('mousemove',(e)=>{
      const c=document.getElementById('cursor');
      c.style.top=e.clientY+'px'; c.style.left=e.clientX+'px';
      const t=document.createElement('div'); t.className='cursor-trail';
      t.style.top=e.clientY+'px'; t.style.left=e.clientX+'px';
      document.body.appendChild(t); setTimeout(()=>t.remove(),600);
    });

    // Theme toggle with persistence
    document.addEventListener("DOMContentLoaded", () => {
      const savedTheme = localStorage.getItem("theme");
      if(savedTheme){
        document.body.classList.remove("dark-theme","light-theme");
        document.body.classList.add(savedTheme);
        const btn = document.getElementById("themeToggleBtn");
        btn.innerText = savedTheme === "dark-theme" ? "üåô" : "‚òÄÔ∏è";
      }
    });

    document.getElementById("themeToggleBtn").addEventListener("click", () => {
      const body = document.body, btn = document.getElementById("themeToggleBtn");
      if(body.classList.contains("dark-theme")){
        body.classList.remove("dark-theme");
        body.classList.add("light-theme");
        localStorage.setItem("theme","light-theme");
        btn.innerText = "‚òÄÔ∏è";
      } else {
        body.classList.remove("light-theme");
        body.classList.add("dark-theme");
        localStorage.setItem("theme","dark-theme");
        btn.innerText = "üåô";
      }
    });

    // CSE handling
    function waitForCSE(){
      return new Promise(resolve=>{
        const check=()=>{
          if(window.google && google.search && google.search.cse && google.search.cse.element){
            resolve();
          } else setTimeout(check,200);
        };
        check();
      });
    }

    function getQueryParam(param){
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    function isURL(str){
      return /^(https?:\/\/)?([a-z0-9-]+\.)+[a-z]{2,}(\/\S*)?$/i.test(str);
    }

    function formatURL(url){
      if(!/^https?:\/\//i.test(url)){
        return "https://" + url;
      }
      return url;
    }

    waitForCSE().then(()=>{
      // Render search results in the container
      google.search.cse.element.render({
        div: "cseResults",
        tag: 'searchresults-only'
      });

      const cseInput = document.querySelector("input.gsc-input");
      const cseButton = document.querySelector("button.gsc-search-button");

      // Prefill ?q= parameter
      const initialQuery = getQueryParam("q");
      if(initialQuery && cseInput && cseButton){
        cseInput.value = initialQuery;
        cseButton.click();
      }

      // Detect URL input
      if(cseInput){
        cseInput.addEventListener("keydown", e=>{
          if(e.key === "Enter"){
            const query = cseInput.value.trim();
            if(isURL(query)){
              e.preventDefault();
              window.open(formatURL(query), "_blank");
            }
          }
        });
      }
    });
  </script>

  <div class="seo-text">
    Future Search ‚Äî v√Ωsledky vyhled√°v√°n√≠ online. Vyzkou≈°ej vyhled√°vaƒç Future Search pro dotazy jako pes, koƒçka, technologie, poƒças√≠, hry a dal≈°√≠.
  </div>
</body>
</html>
