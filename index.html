<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Future Search</title>
  <link rel="icon" href="favicon.png">

  <!-- OneSignal -->
  <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
  <script>
    window.OneSignalDeferred = window.OneSignalDeferred || [];
    OneSignalDeferred.push(async function(OneSignal) {
      await OneSignal.init({
        appId: "db5ff4b3-1170-45f0-8b54-2afc9e626f44",
        notifyButton: { enable: true },
        promptOptions: {
          slidedown: {
            enabled: true,
            actionMessage: "We‚Äôd like to send you updates!",
            acceptButtonText: "Yes, notify me",
            cancelButtonText: "No thanks"
          }
        }
      });
    });
  </script>

  <!-- SEO & OG -->
  <meta name="description" content="Future Search je modern√≠ vyhled√°vaƒç s podporou webu a obr√°zk≈Ø. Vyzkou≈°ej rychl√© a p≈ôehledn√© vyhled√°v√°n√≠.">
  <link rel="canonical" href="https://futuresearch.netlify.app/" />
  <meta name="google-site-verification" content="Wzm471_osSeQHTRM3eED9rHwFNBmovnNmK26oh5Gz9k" />
  <meta property="og:title" content="Future Search" />
  <meta property="og:description" content="Future Search je modern√≠ vyhled√°vaƒç s podporou webu a obr√°zk≈Ø. Vyzkou≈°ej rychl√© a p≈ôehledn√© vyhled√°v√°n√≠." />
  <meta property="og:url" content="https://futuresearch.netlify.app/" />
  <meta property="og:site_name" content="Future Search" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://futuresearch.netlify.app/favicon.png" />
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Future Search",
    "url": "https://futuresearch.netlify.app/",
    "applicationCategory": "SearchApplication",
    "operatingSystem": "All",
    "description": "Future Search je modern√≠ vyhled√°vaƒç s podporou webu a obr√°zk≈Ø. Vyzkou≈°ej rychl√© a p≈ôehledn√© vyhled√°v√°n√≠.",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
    "aggregateRating": { "@type": "AggregateRating", "ratingValue": "5", "reviewCount": "1" },
    "potentialAction": { "@type": "SearchAction", "target": "https://futuresearch.netlify.app/?q={search_term_string}&category=web", "query-input": "required name=search_term_string" }
  }
  </script>
  <script type="application/ld+json">
  { "@context": "https://schema.org", "@type": "WebSite", "name": "Future Search", "url": "https://futuresearch.netlify.app/" }
  </script>

  <!-- Fonts & Styles -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"></noscript>
  <style>
    body { font-family: 'Roboto', sans-serif; margin:0; padding:0; height:100vh; transition: background 0.3s ease; cursor:none; }
    body.dark-theme { background:#000; }
    body.light-theme { background:url('https://cdn.pixabay.com/photo/2020/01/21/20/30/earth-4780749_960_720.jpg') no-repeat center center fixed; background-size:cover; }
    h1 { color:lightblue; text-shadow:0 0 10px #00e0ff; cursor:pointer; text-align:center; margin:20px 0; }
    .theme-switch { position:fixed; top:15px; right:15px; padding:10px; font-size:22px; background:#00e0ff; border-radius:50%; border:none; cursor:pointer; color:#121212; z-index:10000; display:flex; justify-content:center; align-items:center; }
    .search-wrapper { width:100%; display:flex; justify-content:center; }
    #cse-container { display:inline-block; text-align:left; max-width:800px; width:100%; }
    .cursor { position:fixed; width:20px; height:20px; background:rgba(0,224,255,0.8); border-radius:50%; pointer-events:none; transform:translate(-50%,-50%); box-shadow:0 0 15px rgba(0,224,255,0.8),0 0 30px rgba(0,224,255,0.5); z-index:9999; }
    .cursor-trail { position:fixed; width:10px; height:10px; background:rgba(0,224,255,0.4); border-radius:50%; pointer-events:none; z-index:9998; animation:fade 0.6s ease-out forwards; }
    @keyframes fade { 0%{opacity:1;transform:scale(1);} 100%{opacity:0;transform:scale(2);} }
    @media (max-width:600px){ body { cursor:auto; } .cursor,.cursor-trail{ display:none; } #cse-container{width:95%;} }
  </style>
</head>
<body class="dark-theme">

  <h1 onclick="window.location.href='https://futuresearch.netlify.app'">Future Search</h1>
  <button class="theme-switch" id="themeToggleBtn">üåô</button>

  <div class="search-wrapper">
    <div id="cse-container">
      <div class="gcse-searchbox"></div>
      <div class="gcse-searchresults"></div>
    </div>
  </div>

  <div class="cursor" id="cursor"></div>

  <script>
    // Cursor
    document.addEventListener('mousemove', e=>{
      const c=document.getElementById('cursor'); c.style.top=e.clientY+'px'; c.style.left=e.clientX+'px';
      const t=document.createElement('div'); t.className='cursor-trail'; t.style.top=e.clientY+'px'; t.style.left=e.clientX+'px';
      document.body.appendChild(t); setTimeout(()=>t.remove(),600);
    });

    // Load CSE
    function loadCSE(cx){
      const s=document.createElement('script');
      s.src="https://cse.google.com/cse.js?cx="+cx;
      s.async=true;
      document.head.appendChild(s);
    }

    function updateCSETheme(){
      const cxDark="12d541be710094451"; // Dark
      const cxLight="a1ef681a86c0942ad"; // Light
      document.getElementById("cse-container").innerHTML='<div class="gcse-searchbox"></div><div class="gcse-searchresults"></div>';
      loadCSE(document.body.classList.contains('dark-theme')? cxDark: cxLight);
    }

    // Theme toggle
    document.addEventListener("DOMContentLoaded", ()=>{
      const savedTheme=localStorage.getItem("theme");
      if(savedTheme){ document.body.classList.remove("dark-theme","light-theme"); document.body.classList.add(savedTheme); }
      updateCSETheme();
      const btn=document.getElementById("themeToggleBtn");
      btn.innerText=document.body.classList.contains("dark-theme")?"üåô":"‚òÄÔ∏è";
    });

    document.getElementById("themeToggleBtn").addEventListener("click", ()=>{
      const body=document.body;
      body.classList.toggle("dark-theme"); body.classList.toggle("light-theme");
      localStorage.setItem("theme", body.classList.contains("dark-theme")?"dark-theme":"light-theme");
      document.getElementById("themeToggleBtn").innerText=body.classList.contains("dark-theme")?"üåô":"‚òÄÔ∏è";
      updateCSETheme();
    });

    // Prefill ?q=
    window.onload=()=>{
      const query=new URLSearchParams(window.location.search).get("q");
      if(query){
        const input=document.querySelector("input.gsc-input");
        const btn=document.querySelector("button.gsc-search-button");
        if(input && btn){ input.value=query; btn.click(); }
      }
    };

    // Detect URL
    function isURL(str){ return /^(https?:\/\/)?([\w-]+\.)+[\w-]{2,}(\/\S*)?$/i.test(str); }
    function formatURL(url){ if(!/^https?:\/\//i.test(url)) return "https://"+url; return url; }

    setTimeout(()=>{
      const input=document.querySelector("input.gsc-input");
      if(input){ input.addEventListener("keydown", e=>{
        if(e.key==="Enter"){ const query=input.value.trim(); if(isURL(query)){ e.preventDefault(); window.open(formatURL(query),"_blank"); } }
      }); }
    },1000);
  </script>

</body>
</html>
